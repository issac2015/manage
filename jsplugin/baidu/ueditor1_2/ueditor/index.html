<!DOCTYPE HTML>
<html>
<head>

    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>UEditor 在线编辑器</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link href="themes/default/css/umeditor.css" type="text/css" rel="stylesheet">
    <script type="text/javascript" src="third-party/jquery.min.js"></script>
    <script type="text/javascript" src="third-party/template.min.js"></script>
    <script type="text/javascript" charset="utf-8" src="umeditor.config.js"></script>
    <script type="text/javascript" charset="utf-8" src="umeditor.min.js"></script>
    <script type="text/javascript" src="lang/zh-cn/zh-cn.js"></script>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>

    <!--style给定宽度可以影响编辑器的最终宽度-->
    <script type="text/plain" id="myEditor" style="width:1000px;height:240px;">
        <p>这里我可以写一些输入提示</p>
    </script>
    <div class="clear"></div>
    <div id="btns">
        <table>
            <tr>
                <td>
                    <button class="btn" unselected="on" onclick="getAllHtml()">获得整个html的内容</button>&nbsp;
                    <button class="btn" onclick="getContent()">获得内容</button>&nbsp;
                    <button class="btn" onclick="setContent()">写入内容</button>&nbsp;
                    <button class="btn" onclick="setContent(true)">追加内容</button>&nbsp;
                    <button class="btn" onclick="getContentTxt()">获得纯文本</button>&nbsp;
                    <button class="btn" onclick="getPlainTxt()">获得带格式的纯文本</button>&nbsp;
                    <button class="btn" onclick="hasContent()">判断是否有内容</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button class="btn" onclick="setFocus()">编辑器获得焦点</button>&nbsp;
                    <button class="btn" onmousedown="isFocus();return false;">编辑器是否获得焦点</button>&nbsp;
                    <button class="btn" onclick="doBlur()">编辑器取消焦点</button>&nbsp;
                    <button class="btn" onclick="insertHtml()">插入给定的内容</button>&nbsp;
                    <button class="btn" onclick="getContentTxt()">获得纯文本</button>&nbsp;
                    <button class="btn" id="enable" onclick="setEnabled()">可以编辑</button>&nbsp;
                    <button class="btn" onclick="setDisabled()">不可编辑</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button class="btn" onclick="UM.getEditor('myEditor').setHide()">隐藏编辑器</button>&nbsp;
                    <button class="btn" onclick="UM.getEditor('myEditor').setShow()">显示编辑器</button>&nbsp;
                    <button class="btn" onclick="UM.getEditor('myEditor').setHeight(300)">设置编辑器的高度为300</button>&nbsp;
                    <button class="btn" onclick="UM.getEditor('myEditor').setWidth(1200)">设置编辑器的宽度为1200</button>
                </td>
            </tr>

        </table>
    </div>
    <table>
        <tr>
            <td>
                <button class="btn" onclick="createEditor()"/>创建编辑器</button>
                <button class="btn" onclick="deleteEditor()"/>删除编辑器</button>
            </td>
        </tr>
    </table>

    <div>
        <h3 id="focush2"></h3>
    </div>
    
</body>
    <script src="./js/index.js"></script>
    <script type="text/javascript">
        $("body", parent.document).removeClass("sidebar-collapse");
        $("body", parent.document).addClass("sidebar-collapse"); // 收起工具栏
        // 动态设置 iframe 内嵌的高度
    $(document).ready(function () {
        var setHeightVal = 600; // 默认最小高度 600px;

        var footerHeight = $(".main-footer", parent.document).outerHeight(); // 51 px; -- number; jq height() 获取的不是实际高度
        var headerHeight = $(".main-header", parent.document).outerHeight(); // 50 px;
        var contentHeaderH = $(".content-header", parent.document).outerHeight(); // 41px; content-header
        var iframeContent = 30 + 15; // 外高度
        var scrollTop = parent.document.documentElement.scrollHeight || parent.document.body.scrollHeight;
        // <section id="fsIframe" class="content container-fluid"> 在当前环境中的实际高度
        var verify = scrollTop - (footerHeight + headerHeight + contentHeaderH) - iframeContent;
        // 内嵌页面的 document height
        var docHeight = $(document).height() + 30;
        // console.log(docHeight);
        // 内嵌页面的 html height
        var htmlHeight = $("html").height() + 30;
        // console.log(htmlHeight);
        // 内嵌页面的 body height
        var bodyHeight = $("body").height() + 30;
        // console.log(bodyHeight);
        if (verify > docHeight) {
            setHeightVal = verify;
        } else if (htmlHeight > verify) {
            setHeightVal = htmlHeight;
        } else {
            setHeightVal = docHeight;
        }
        // 自定义高度
        setHeightVal = 760;
        $("#fsUeditor", parent.document).height(setHeightVal);
    });
    </script>
</html>
