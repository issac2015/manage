<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>UEditor 在线编辑器</title>
    <link rel="stylesheet" href="/admin/jsplugin/baidu/ueditor/static/css/index.css">
</head>
<body>

    <div>
        <h1>UEditor 在线编辑器</h1>
        <script id="editor" type="text/plain" style="width:100%;height:400px;"></script>
    </div>

    <div id="btns">
        <div>
            <button onclick="getAllHtml()">获得整个html的内容</button>
            <button onclick="getContent()">获得内容</button>
            <button onclick="setContent()">写入内容</button>
            <button onclick="setContent(true)">追加内容</button>
            <button onclick="getContentTxt()">获得纯文本</button>
            <button onclick="getPlainTxt()">获得带格式的纯文本</button>
            <button onclick="hasContent()">判断是否有内容</button>
            <button onclick="setFocus()">使编辑器获得焦点</button>
            <button onmousedown="isFocus(event)">编辑器是否获得焦点</button>
            <button onmousedown="setblur(event)" >编辑器失去焦点</button>

        </div>
        <div>
            <button onclick="getText()">获得当前选中的文本</button>
            <button onclick="insertHtml()">插入给定的内容</button>
            <button id="enable" onclick="setEnabled()">可以编辑</button>
            <button onclick="setDisabled()">不可编辑</button>
            <button onclick=" UE.getEditor('editor').setHide()">隐藏编辑器</button>
            <button onclick=" UE.getEditor('editor').setShow()">显示编辑器</button>
            <button onclick=" UE.getEditor('editor').setHeight(300)">设置高度为300默认关闭了自动长高</button>
        </div>

        <div>
            <button onclick="getLocalData()" >获取草稿箱内容</button>
            <button onclick="clearLocalData()" >清空草稿箱</button>
        </div>

    </div>
    <div class="fs-editor-ctrl">
        <button onclick="createEditor()">
        创建编辑器</button>
        <button onclick="deleteEditor()">
        删除编辑器</button>
    </div>


</body>
    <script src="/admin/static/plugin/jquery/jquery.min.js"></script>
    <script src="ueditor.config.js"></script>
    <script src="ueditor.all.js"> </script>
    <!-- <script src="ueditor.all.min.js"> </script> -->
    <!-- 建议手动加载 -->
    <script src="lang/zh-cn/zh-cn.js"></script>
    <script src="/admin/jsplugin/baidu/ueditor/static/js/index.js"></script>
    <script type="text/javascript">
    $("body", parent.document).removeClass("sidebar-collapse");
    $("body", parent.document).addClass("sidebar-collapse"); // 收起工具栏
    // 动态设置 iframe 内嵌的高度
    $(document).ready(function () {
        var setHeightVal = 600; // 默认最小高度 600px;

        var footerHeight = $(".main-footer", parent.document).outerHeight(); // 51 px; -- number; jq height() 获取的不是实际高度
        var headerHeight = $(".main-header", parent.document).outerHeight(); // 50 px;
        var contentHeaderH = $(".content-header", parent.document).outerHeight(); // 41px; content-header
        var iframeContent = 30 + 15; // 外高度
        var scrollTop = parent.document.documentElement.scrollHeight || parent.document.body.scrollHeight;
        // <section id="fsIframe" class="content container-fluid"> 在当前环境中的实际高度
        var verify = scrollTop - (footerHeight + headerHeight + contentHeaderH) - iframeContent;
        // 内嵌页面的 document height
        var docHeight = $(document).height() + 30;
        // console.log(docHeight);
        // 内嵌页面的 html height
        var htmlHeight = $("html").height() + 30;
        // console.log(htmlHeight);
        // 内嵌页面的 body height
        var bodyHeight = $("body").height() + 30;
        // console.log(bodyHeight);
        if (verify > docHeight) {
            setHeightVal = verify;
        } else if (htmlHeight > verify) {
            setHeightVal = htmlHeight;
        } else {
            setHeightVal = docHeight;
        }
        // 自定义高度
        setHeightVal = 760;
        $("#fsUeditor", parent.document).height(setHeightVal);
    });
    </script>
</html>